import React, { useState } from "react";

const moods = [
  { emoji: "ðŸ˜„", label: "Happy" },
  { emoji: "ðŸ˜”", label: "Sad" },
  { emoji: "ðŸ˜ ", label: "Angry" },
  { emoji: "ðŸ˜Œ", label: "Calm" },
  { emoji: "ðŸ˜•", label: "Confused" },
];

const MoodTracker = () => {
  const [selectedMood, setSelectedMood] = useState(null);
  const [moodLog, setMoodLog] = useState([]);

  const handleMoodSelect = (mood) => {
    const today = new Date().toISOString().split("T")[0]; // YYYY-MM-DD
    setMoodLog([{ date: today, mood }, ...moodLog]);
    setSelectedMood(mood);
  };

  return (
    <div style={styles.card}>
      <h2 style={styles.heading}>ðŸ§  Mood Tracker</h2>
      <div style={styles.moodGrid}>
        {moods.map((m) => (
          <button
            key={m.label}
            style={styles.moodButton}
            onClick={() => handleMoodSelect(m)}
          >
            <span style={{ fontSize: "28px" }}>{m.emoji}</span>
            <p style={styles.label}>{m.label}</p>
          </button>
        ))}
      </div>

      <div style={styles.log}>
        <h3 style={styles.logTitle}>Recent Moods</h3>
        <ul>
          {moodLog.map((entry, index) => (
            <li key={index} style={styles.logItem}>
              {entry.date}: {entry.mood.emoji} {entry.mood.label}
            </li>
          ))}
        </ul>
      </div>
    </div>
  );
};

const styles = {
  card: {
    padding: "30px",
    borderRadius: "12px",
    backgroundColor: "#f0f9ff",
    boxShadow: "0 2px 12px rgba(0,0,0,0.1)",
    textAlign: "center",
    marginBottom: "30px",
  },
  heading: {
    fontSize: "24px",
    marginBottom: "20px",
    color: "#0369a1",
  },
  moodGrid: {
    display: "flex",
    justifyContent: "center",
    flexWrap: "wrap",
    gap: "15px",
    marginBottom: "20px",
  },
  moodButton: {
    padding: "12px",
    backgroundColor: "#e0f2fe",
    border: "none",
    borderRadius: "10px",
    cursor: "pointer",
    width: "80px",
  },
  label: {
    fontSize: "14px",
    marginTop: "5px",
  },
  log: {
    textAlign: "left",
    marginTop: "20px",
  },
  logTitle: {
    fontSize: "18px",
    color: "#0369a1",
    marginBottom: "10px",
  },
  logItem: {
    fontSize: "16px",
    marginBottom: "5px",
  },
};

export default MoodTracker;
